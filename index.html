<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Infinte Circular rotating menu</title>
	<link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="css/font-awesome.min.css" />
</head>
<body>
<div id="containerMain" class="fa fa-bars hide">
  <a href="" class="fa fa-facebook" data-index="1"></a>
  <a href="" class="fa fa-twitter" data-index="2"></a>

  <a href="" class="fa fa-youtube" data-index="3"></a>
  <a href="" class="fa fa-drupal" data-index="4"></a>
  
  <a href="" class="fa fa-instagram" data-index="5"></a>
  <a href="" class="fa fa-linkedin" data-index="6"></a>

  <a href="#" class="fa fa-flickr" data-index="7"></a>
  <a href="" class="fa fa-edge" data-index="8"></a>

  <a href="" class="fa fa-linux" data-index="9"></a>
  <a href="" class="fa fa-vimeo" data-index="10"></a>
  
  <a href="" class="fa fa-vine" data-index="11"></a>
  <a href="" class="fa fa-windows" data-index="12"></a>
</div>
<div id="container" class="fa fa-bars">
  <a href="" class="fa fa-facebook" data-index="1"></a>
  <a href="" class="fa fa-twitter" data-index="2"></a>

  <a href="" class="fa fa-youtube" data-index="3"></a>
  <a href="" class="fa fa-drupal" data-index="4"></a>
  
  <a href="" class="fa fa-instagram" data-index="5"></a>
  <a href="" class="fa fa-linkedin" data-index="6"></a>
</div>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript">
var isOn = false;
var actualLength = $('#containerMain a').length - 1; 

//$('#container').click(function() {
  if(isOn) {
    reset();
  } else {
    setPosition();
  }
//});

function setPosition() {
  isOn = true;
  var links = $('#container a');
  var radius = 130;
  var degree = Math.PI / 5, angle = 300;
  
//clone from last
/*var mainLinks = $("#container1 a");
for(var i = mainLinks.length -1; i>mainLinks.length -3;i--){
	$("#container").prepend(mainLinks[i]);
}*/

//clone from first
//$('img.thumbnail22').slice(0, 5).clone().prependTo(".cloned");


  links.each(function() {
    var x = Math.round(radius * Math.cos(angle));
    var y = Math.round(radius * Math.sin(angle));
    
    $(this).css({
      left: x + 'px',
      top: y + 'px'
    });
    angle += degree;
  });
}

function reset() {
  $('#container a').css({
    left: 0 + 'px',
    top: 0 + 'px'
  });
  
  isOn = false;
}


/*====================================================================================================*/

document.addEventListener('touchstart', handleTouchStart, false);        
document.addEventListener('touchmove', handleTouchMove, false);

var xDown = null, yDown = null;                                                        
	
function handleTouchStart(evt) {                                         
    xDown = evt.touches[0].clientX;                                      
    yDown = evt.touches[0].clientY;                                      
};                                                

function handleTouchMove(evt) {
    if ( ! xDown || ! yDown ) {
        return;
    }

    var xUp = evt.touches[0].clientX, yUp = evt.touches[0].clientY;

    var xDiff = xDown - xUp, yDiff = yDown - yUp;
    
    if ( Math.abs( xDiff ) > Math.abs( yDiff ) ) {/*most significant*/
        if ( xDiff > 0 ) {
            /* left swipe */ 
        } else {
            /* right swipe */
        }                       
    } else {
        if ( yDiff > 0 ) {
            /* up swipe */ 

            var getLastItem = parseInt($("#container a:last").data("index"));
            if(getLastItem - 1 == actualLength){
            	getLastItem = 0;
            }
            //var getLastItemIndex = $("#container a:last-child").attr("index");
            $("#containerMain a:eq("+ getLastItem +")").clone(true).appendTo("#container");

            //change position of each item.
            var cont = $("#container a");
            for(var i = cont.length - 1;i >0;i--){
            	cont[i].style.left = cont[i - 1].style.left;
            	cont[i].style.top = cont[i - 1].style.top;

            	//remove top item
            	if(i == 1){
            		setTimeout(function(){// timeout for delay removing item
            			cont[0].remove();
            		},200)
            	}
            }
        } else { 
            /* down swipe */

            var getFirstItem = parseInt($("#container a:first").data("index")) - 1;
            if(getFirstItem == 0){
            	getFirstItem = actualLength + 1;
            }
            $("#containerMain a:eq("+(getFirstItem - 1)+")").clone(true).prependTo("#container");

            //change position of each item.
            var cont = $("#container a");
            for(var i = 0;i < cont.length - 1;i++){
            	cont[i].style.left = cont[i + 1].style.left;
            	cont[i].style.top = cont[i + 1].style.top;

            	//remove top item
            	if(i == 5){
            		setTimeout(function(){// timeout for delay removing item
            			cont[i].remove();
            		},200)
            	}
            }
        }                                                                 
    }
    /* reset values */
    xDown = null;
    yDown = null;                                             
};



</script>
</body>
</html>